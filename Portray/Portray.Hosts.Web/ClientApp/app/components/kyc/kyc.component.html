<div class="container">
    <div [hidden]="submitted">
        <h1>Enter your age, income and prefered currency</h1>
        <form #userForm="ngForm" *ngIf="active" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="name">Age</label>
                <input type="number" id="age" class="form-control"
                       name="age" [(ngModel)]="user.age"
                       #name="ngModel">
                <div *ngIf="age?.errors && (age?.dirty || age.touched)"
                     class="alert alert-danger">
                    <div [hidden]="!age?.errors.required">
                        Age is required.
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="income">Income</label>
                <input type="number" id="income" class="form-control"
                       name="income"
                       [(ngModel)]="user.income">
            </div>
            <div class="form-group">
                <label for="currencySymbol">Currency</label>
                <select id="currencySymbol" class="form-control"
                        name="currencySymbol"
                        [(ngModel)]="user.currencySymbol" required
                        #power="ngModel">
                    <option *ngFor="let s of currencySymbols" [value]="s">{{s}}</option>
                </select>
                <div *ngIf="currencySymbol?.errors && currencySymbol?.touched" class="alert alert-danger">
                    <div [hidden]="!currencySymbol?.errors.required">Currency is required</div>
                </div>
            </div>
            <button type="submit" class="btn btn-default"
                    [disabled]="!userForm.form.valid">
                Submit
            </button>
            <button type="button" class="btn btn-default"
                    (click)="addUser()">
                Reset
            </button>
        </form>
    </div>
    <user-submitted [user]="user" [(submitted)]="submitted"></user-submitted>
</div>